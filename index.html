<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
    <title>–ù–£–ê–†: –ö—Ç–æ —É–∫—Ä–∞–ª –Ω–∞—Å—Ç—Ä–æ–π?</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            min-height: 100vh;
            background: #0a0a0a;
            font-family: 'Courier New', monospace;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 16px;
            position: relative;
            overflow-x: hidden;
        }

        /* –≠—Ñ—Ñ–µ–∫—Ç —Å—Ç–∞—Ä–æ–π –ø–ª—ë–Ω–∫–∏ */
        .film-grain {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: repeating-linear-gradient(0deg, rgba(255,255,255,0.02) 0px, rgba(0,0,0,0.02) 2px, transparent 4px);
            pointer-events: none;
            z-index: 2;
            opacity: 0.3;
            animation: grain 8s steps(10) infinite;
        }

        @keyframes grain {
            0%, 100% { transform: translate(0, 0); }
            10% { transform: translate(-2%, -2%); }
            20% { transform: translate(2%, 2%); }
            30% { transform: translate(-2%, 2%); }
            40% { transform: translate(2%, -2%); }
            50% { transform: translate(-1%, 1%); }
            60% { transform: translate(1%, -1%); }
            70% { transform: translate(-1%, -1%); }
            80% { transform: translate(1%, 1%); }
            90% { transform: translate(0, 1%); }
        }

        /* –¶–∞—Ä–∞–ø–∏–Ω—ã –Ω–∞ –ø–ª—ë–Ω–∫–µ */
        .scratch {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path d="M10 10 L 90 90 M 20 20 L 80 80 M 30 30 L 70 70 M 40 40 L 60 60 M 50 50 L 50 50 M 60 40 L 40 60 M 70 30 L 30 70 M 80 20 L 20 80 M 90 10 L 10 90" stroke="white" stroke-width="0.3" opacity="0.1" fill="none"/></svg>');
            pointer-events: none;
            z-index: 3;
            opacity: 0.15;
            mix-blend-mode: overlay;
        }

        .card {
            position: relative;
            z-index: 10;
            max-width: 480px;
            width: 100%;
            background: rgba(10, 10, 10, 0.7);
            backdrop-filter: blur(8px);
            border: 2px solid #444;
            border-radius: 24px;
            padding: 24px 20px 30px;
            box-shadow: 0 30px 50px rgba(0,0,0,0.8), 0 0 0 2px #8b7355 inset;
            text-align: center;
            color: #e0d6c0;
        }

        h1 {
            font-size: 2.2rem;
            font-weight: 800;
            text-transform: uppercase;
            letter-spacing: 6px;
            margin-bottom: 8px;
            color: #b8a07c;
            text-shadow: 0 0 10px #8b7355, 0 4px 0 #2a2a2a;
            font-family: 'Courier New', monospace;
        }

        .subtitle {
            font-size: 1rem;
            letter-spacing: 2px;
            margin-bottom: 30px;
            color: #a89070;
            border-bottom: 1px dashed #5e4f3e;
            padding-bottom: 10px;
        }

        .case-file {
            background: rgba(0,0,0,0.5);
            border-left: 4px solid #8b4f3e;
            padding: 15px;
            text-align: left;
            margin-bottom: 25px;
            font-size: 1.1rem;
            border-radius: 0 12px 12px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5);
            animation: fadeIn 1s;
        }

        .case-file p {
            margin: 5px 0;
            color: #c0b09a;
        }

        .case-file .highlight {
            color: #d7b08c;
            font-weight: bold;
        }

        .suspects-title {
            font-size: 1.5rem;
            margin: 20px 0 15px;
            text-transform: uppercase;
            border-bottom: 2px solid #5e4f3e;
            padding-bottom: 5px;
            letter-spacing: 3px;
        }

        .suspect-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
        }

        .suspect {
            flex: 1 1 120px;
            background: #1e1e1e;
            border: 2px solid #3e3e3e;
            border-radius: 20px;
            padding: 20px 10px 15px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            box-shadow: 0 10px 0 #0a0a0a;
            position: relative;
            overflow: hidden;
        }

        .suspect:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 0 #0a0a0a, 0 0 30px #8b7355;
            border-color: #b89a7a;
        }

        .suspect:active {
            transform: translateY(5px);
            box-shadow: 0 5px 0 #0a0a0a;
        }

        .suspect-icon {
            font-size: 4rem;
            margin-bottom: 10px;
            filter: grayscale(80%);
            transition: all 0.3s;
        }

        .suspect:hover .suspect-icon {
            filter: grayscale(0%);
            transform: scale(1.1);
        }

        .suspect-name {
            font-size: 1.4rem;
            font-weight: bold;
            color: #c0b09a;
        }

        .suspect-role {
            font-size: 0.8rem;
            color: #7e6e5a;
            text-transform: uppercase;
        }

        .evidence-box {
            margin: 25px 0 20px;
            min-height: 80px;
            background: #0f0f0f;
            border: 2px solid #4a3f33;
            border-radius: 16px;
            padding: 16px;
            font-style: italic;
            color: #d4c4ac;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            box-shadow: inset 0 0 20px #000;
        }

        .evidence-icon {
            font-size: 2rem;
            filter: drop-shadow(0 0 5px #b89a7a);
        }

        .reset-btn {
            background: #2a241e;
            border: 2px solid #5e4f3e;
            color: #d0b8a0;
            padding: 12px 30px;
            font-size: 1.2rem;
            border-radius: 40px;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            width: 100%;
            box-shadow: 0 7px 0 #0f0f0f;
        }

        .reset-btn:active {
            transform: translateY(5px);
            box-shadow: 0 2px 0 #0f0f0f;
        }

        .hidden-message {
            font-size: 1.6rem;
            font-weight: bold;
            color: #e0c8a8;
            text-shadow: 0 0 15px #b87e4f;
            margin: 15px 0 0;
            min-height: 60px;
            animation: flicker 2s infinite;
        }

        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .footsteps {
            position: fixed;
            bottom: 20px;
            left: 20px;
            color: #5e4f3e;
            font-size: 1.2rem;
            z-index: 5;
            opacity: 0.3;
        }

        /* –ê–¥–∞–ø—Ç–∞—Ü–∏—è */
        @media (max-width: 480px) {
            h1 { font-size: 1.8rem; letter-spacing: 3px; }
            .suspect-icon { font-size: 3rem; }
        }
    </style>
</head>
<body>
    <!-- –≠—Ñ—Ñ–µ–∫—Ç—ã —Å—Ç–∞—Ä–æ–≥–æ –∫–∏–Ω–æ -->
    <div class="film-grain"></div>
    <div class="scratch"></div>

    <!-- –ó–≤—É–∫–∏ (–∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∫–ª–∏–∫–µ) -->
    <audio id="bgMusic" loop preload="auto">
        <source src="https://assets.mixkit.co/music/download/mixkit-film-noir-218.mp3" type="audio/mpeg">
    </audio>
    <audio id="stepSound" preload="auto">
        <source src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_8b6c5b5b5b.mp3?filename=footsteps-on-wood-6884.mp3" type="audio/mpeg">
    </audio>
    <audio id="doorSound" preload="auto">
        <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_5f3b1a5a5a.mp3?filename=creaking-door-1-6014.mp3" type="audio/mpeg">
    </audio>
    <audio id="revealSound" preload="auto">
        <source src="https://cdn.pixabay.com/download/audio/2021/08/04/audio_4f3b2a1b1b.mp3?filename=dramatic-reveal-140124.mp3" type="audio/mpeg">
    </audio>

    <div class="card">
        <h1>–ù–û–ê–†</h1>
        <div class="subtitle">‚ñ∏ –ö–¢–û –£–ö–†–ê–õ –ù–ê–°–¢–†–û–ô? ‚óÇ</div>

        <!-- –û–ø–∏—Å–∞–Ω–∏–µ –¥–µ–ª–∞ -->
        <div class="case-file" id="caseFile">
            <p><span class="highlight">–î–ï–õ–û ‚Ññ69</span> ¬∑ 19:47</p>
            <p>–¢—ã –∑–∞—à—ë–ª —Å—é–¥–∞ —Å–ø–æ–∫–æ–π–Ω—ã–º.</p>
            <p>–ù–æ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫...</p>
            <p id="dynamicCase">–¢–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π –∏—Å—á–µ–∑. –ö—Ç–æ –≤–∏–Ω–æ–≤–∞—Ç?</p>
        </div>

        <!-- –ü–æ–¥–æ–∑—Ä–µ–≤–∞–µ–º—ã–µ -->
        <div class="suspects-title">‚óà –ü–û–î–û–ó–†–ï–í–ê–ï–ú–´–ï ‚óà</div>
        <div class="suspect-grid">
            <div class="suspect" id="suspect1">
                <div class="suspect-icon">üêà‚Äç‚¨õ</div>
                <div class="suspect-name">–ö–û–¢</div>
                <div class="suspect-role">¬∑ —Ö–∏—Ç—ë—Ä ¬∑</div>
            </div>
            <div class="suspect" id="suspect2">
                <div class="suspect-icon">üë§</div>
                <div class="suspect-name">–°–û–°–ï–î</div>
                <div class="suspect-role">¬∑ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª–µ–Ω ¬∑</div>
            </div>
            <div class="suspect" id="suspect3">
                <div class="suspect-icon">ü´µ</div>
                <div class="suspect-name">–¢–´ –°–ê–ú</div>
                <div class="suspect-role">¬∑ –≥–ª–∞–≤–Ω—ã–π —Å–≤–∏–¥–µ—Ç–µ–ª—å ¬∑</div>
            </div>
        </div>

        <!-- –£–ª–∏–∫–∏ –∏ —Å–æ–æ–±—â–µ–Ω–∏—è -->
        <div class="evidence-box" id="evidence">
            <span class="evidence-icon">üîç</span>
            <span id="evidenceText">–í—ã–±–µ—Ä–∏ –ø–æ–¥–æ–∑—Ä–µ–≤–∞–µ–º–æ–≥–æ...</span>
        </div>

        <!-- –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ -->
        <div class="hidden-message" id="finalMessage"></div>

        <!-- –ö–Ω–æ–ø–∫–∞ —Å–±—Ä–æ—Å–∞ -->
        <button class="reset-btn" id="resetBtn">‚ü≤ –ù–û–í–û–ï –î–ï–õ–û</button>
    </div>

    <!-- –ó–≤—É–∫ —à–∞–≥–æ–≤ (—Ñ–æ–Ω) -->
    <div class="footsteps">üë£ üë£ üë£</div>

    <script>
        (function() {
            // –≠–ª–µ–º–µ–Ω—Ç—ã
            const suspect1 = document.getElementById('suspect1');
            const suspect2 = document.getElementById('suspect2');
            const suspect3 = document.getElementById('suspect3');
            const evidenceText = document.getElementById('evidenceText');
            const finalMessage = document.getElementById('finalMessage');
            const resetBtn = document.getElementById('resetBtn');
            const dynamicCase = document.getElementById('dynamicCase');
            const evidenceBox = document.getElementById('evidence');

            // –ê—É–¥–∏–æ
            const bgMusic = document.getElementById('bgMusic');
            const stepSound = document.getElementById('stepSound');
            const doorSound = document.getElementById('doorSound');
            const revealSound = document.getElementById('revealSound');

            // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
            let step = 0;
            let musicStarted = false;
            let gameFinished = false;

            // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–≥—Ä—ã –∑–≤—É–∫–æ–≤
            function playSound(sound) {
                if (sound) {
                    sound.currentTime = 0;
                    sound.play().catch(e => console.log('sound error', e));
                }
            }

            // –ó–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤–æ–π –º—É–∑—ã–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–∏
            function startMusic() {
                if (!musicStarted) {
                    bgMusic.volume = 0.3;
                    bgMusic.play().catch(e => console.log('music start delayed'));
                    musicStarted = true;
                }
            }

            // –£–ª–∏–∫–∏ –∏ –¥–∏–∞–ª–æ–≥–∏
            const clues = {
                cat: [
                    { text: "–ö–æ—Ç —Å–∏–¥–µ–ª –Ω–∞ –ø–æ–¥–æ–∫–æ–Ω–Ω–∏–∫–µ. –í–µ—Å—å –¥–µ–Ω—å.", icon: "üêà" },
                    { text: "–ù–∞ –ø–æ–ª—É ‚Äî —Å–ª–µ–¥—ã –ª–∞–ø. –í–µ–¥—É—Ç –∫ —Ö–æ–ª–æ–¥–∏–ª—å–Ω–∏–∫—É.", icon: "üêæ" },
                    { text: "–ö–æ—Ç –º—É—Ä–ª—ã—á–µ—Ç. –°–ª–∏—à–∫–æ–º —Å–ø–æ–∫–æ–µ–Ω.", icon: "üé≠" }
                ],
                neighbor: [
                    { text: "–°–æ—Å–µ–¥ –≤—á–µ—Ä–∞ —Å—Ç—É—á–∞–ª –≤ —Å—Ç–µ–Ω—É. –í 3 –Ω–æ—á–∏.", icon: "üëÇ" },
                    { text: "–ò–∑-–∑–∞ –¥–≤–µ—Ä–∏ –ø–∞—Ö–Ω–µ—Ç —à–∞—É—Ä–º–æ–π.", icon: "üåØ" },
                    { text: "–£ –Ω–µ–≥–æ –Ω–æ–≤—ã–π —Ç–µ–ª–µ–≤–∏–∑–æ—Ä. –û—Ç–∫—É–¥–∞ –¥–µ–Ω—å–≥–∏?", icon: "üí∞" }
                ],
                yourself: [
                    { text: "–¢—ã –Ω–µ —Å–ø–∞–ª –≤—Å—é –Ω–æ—á—å. –í—Å–ø–æ–º–Ω–∏.", icon: "üòµ" },
                    { text: "–í –∫–∞—Ä–º–∞–Ω–µ ‚Äî –∑–∞–ø–∏—Å–∫–∞. –¢–≤–æ–∏–º –ø–æ—á–µ—Ä–∫–æ–º.", icon: "üìú" },
                    { text: "–ü–æ—Å–ª–µ–¥–Ω–µ–µ —Ñ–æ—Ç–æ –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ ‚Äî —Ç—ã —É–ª—ã–±–∞–µ—à—å—Å—è. –ù–æ —á–µ–º—É?", icon: "üì∏" }
                ]
            };

            // –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–∞–∑–æ–±–ª–∞—á–µ–Ω–∏—è
            const endings = {
                cat: "–≠–¢–û –ë–´–õ –ö–û–¢! –û–Ω —É–∫—Ä–∞–ª —Ç–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª—å—à–µ —Ä—ã–±—ã. –•–∏—Ç—Ä–µ—Ü...",
                neighbor: "–°–û–°–ï–î! –û–Ω –∑–∞–≤–∏–¥–æ–≤–∞–ª —Ç–≤–æ–µ–º—É —Å–ø–æ–∫–æ–π—Å—Ç–≤–∏—é. –¢–µ–ø–µ—Ä—å —Ç—ã –∑–Ω–∞–µ—à—å –ø—Ä–∞–≤–¥—É.",
                yourself: "–¢–´ –°–ê–ú! –¢–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π –Ω–∏–∫—Ç–æ –Ω–µ –∫—Ä–∞–ª. –¢—ã –ø—Ä–æ—Å—Ç–æ —É—Å—Ç–∞–ª. –û—Ç–¥–æ—Ö–Ω–∏, –¥–µ—Ç–µ–∫—Ç–∏–≤."
            };

            // –°—á—ë—Ç—á–∏–∫ —à–∞–≥–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–¥–æ–∑—Ä–µ–≤–∞–µ–º–æ–≥–æ
            let catStep = 0;
            let neighborStep = 0;
            let yourselfStep = 0;

            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–ª–∏–∫–æ–≤
            suspect1.addEventListener('click', () => {
                if (gameFinished) return;
                startMusic();
                playSound(stepSound);
                
                if (catStep < clues.cat.length) {
                    evidenceText.innerText = clues.cat[catStep].text;
                    evidenceBox.innerHTML = `<span class="evidence-icon">${clues.cat[catStep].icon}</span><span id="evidenceText">${clues.cat[catStep].text}</span>`;
                    catStep++;
                } else {
                    // –†–∞–∑–æ–±–ª–∞—á–µ–Ω–∏–µ
                    gameFinished = true;
                    playSound(revealSound);
                    finalMessage.innerText = endings.cat;
                    evidenceBox.innerHTML = `<span class="evidence-icon">üêà‚Äç‚¨õ</span><span id="evidenceText">–ö–æ—Ç –ø–æ–π–º–∞–Ω —Å –ø–æ–ª–∏—á–Ω—ã–º!</span>`;
                    dynamicCase.innerText = "–î–µ–ª–æ —Ä–∞—Å–∫—Ä—ã—Ç–æ. –í–∏–Ω–æ–≤–Ω—ã–π –Ω–∞–π–¥–µ–Ω.";
                }
            });

            suspect2.addEventListener('click', () => {
                if (gameFinished) return;
                startMusic();
                playSound(doorSound);
                
                if (neighborStep < clues.neighbor.length) {
                    evidenceText.innerText = clues.neighbor[neighborStep].text;
                    evidenceBox.innerHTML = `<span class="evidence-icon">${clues.neighbor[neighborStep].icon}</span><span id="evidenceText">${clues.neighbor[neighborStep].text}</span>`;
                    neighborStep++;
                } else {
                    gameFinished = true;
                    playSound(revealSound);
                    finalMessage.innerText = endings.neighbor;
                    evidenceBox.innerHTML = `<span class="evidence-icon">üë§</span><span id="evidenceText">–°–æ—Å–µ–¥ —Å–æ–∑–Ω–∞–ª—Å—è!</span>`;
                    dynamicCase.innerText = "–î–µ–ª–æ —Ä–∞—Å–∫—Ä—ã—Ç–æ. –í–∏–Ω–æ–≤–Ω—ã–π –Ω–∞–π–¥–µ–Ω.";
                }
            });

            suspect3.addEventListener('click', () => {
                if (gameFinished) return;
                startMusic();
                playSound(stepSound);
                
                if (yourselfStep < clues.yourself.length) {
                    evidenceText.innerText = clues.yourself[yourselfStep].text;
                    evidenceBox.innerHTML = `<span class="evidence-icon">${clues.yourself[yourselfStep].icon}</span><span id="evidenceText">${clues.yourself[yourselfStep].text}</span>`;
                    yourselfStep++;
                } else {
                    gameFinished = true;
                    playSound(revealSound);
                    finalMessage.innerText = endings.yourself;
                    evidenceBox.innerHTML = `<span class="evidence-icon">ü´µ</span><span id="evidenceText">–¢—ã ‚Äî –≤–∏–Ω–æ–≤–Ω–∏–∫ –∏ –∂–µ—Ä—Ç–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.</span>`;
                    dynamicCase.innerText = "–î–µ–ª–æ —Ä–∞—Å–∫—Ä—ã—Ç–æ. –í–∏–Ω–æ–≤–Ω—ã–π –Ω–∞–π–¥–µ–Ω.";
                }
            });

            // –°–±—Ä–æ—Å –∏–≥—Ä—ã
            resetBtn.addEventListener('click', () => {
                gameFinished = false;
                catStep = 0;
                neighborStep = 0;
                yourselfStep = 0;
                
                evidenceBox.innerHTML = `<span class="evidence-icon">üîç</span><span id="evidenceText">–í—ã–±–µ—Ä–∏ –ø–æ–¥–æ–∑—Ä–µ–≤–∞–µ–º–æ–≥–æ...</span>`;
                finalMessage.innerText = '';
                dynamicCase.innerText = "–¢–≤–æ–π –Ω–∞—Å—Ç—Ä–æ–π –∏—Å—á–µ–∑. –ö—Ç–æ –≤–∏–Ω–æ–≤–∞—Ç?";
                
                playSound(doorSound);
            });

            // –ü—Ä–µ–ª–æ–∞–¥ –º—É–∑—ã–∫–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –¥–≤–∏–∂–µ–Ω–∏–∏ –º—ã—à–∏ (–¥–ª—è –∞–≤—Ç–æ—Å—Ç–∞—Ä—Ç–∞)
            document.body.addEventListener('touchstart', function once() {
                startMusic();
                document.body.removeEventListener('touchstart', once);
            });
            document.body.addEventListener('mousemove', function once() {
                startMusic();
                document.body.removeEventListener('mousemove', once);
            });

        })();
    </script>
</body>
</html>
